{"mappings":"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","sources":["node_modules/lazy-react/dist/src/lazyLoadBackgroundImage.tsx","node_modules/lazy-react/dist/src/lazyLoadImage.tsx","node_modules/lazy-react/dist/src/lazyLoadFrame.tsx","node_modules/lazy-react/dist/src/lazyLoadComponent.tsx","node_modules/lazy-react/dist/src/useIsInViewport.tsx"],"sourcesContent":["import { useState, useEffect, type ReactNode } from 'react'\nimport useIsInViewPort from './index'\n\ninterface LazyBackgroundImageProps {\n\tlink: string\n\toffset: number\n\tstyle: object\n\tclassName: string\n\tchildren: ReactNode,\n}\n\nexport default function LazyBackgroundImage(props: LazyBackgroundImageProps) {\n\tconst [setRef, link, isViewable] = useIsInViewPort(props)\n\n\tconst [style, setStyle] = useState({\n\t\tbackgroundImage: `url(${link})`,\n\t\t...props.style,\n\t})\n\n\tuseEffect(() => {\n\t\tisViewable\n\t\t\t? setStyle({\n\t\t\t\t\tbackgroundImage: `url(${link})`,\n\t\t\t\t\t...props.style,\n\t\t\t\t})\n\t\t\t: null\n\t}, [link, isViewable, props.style])\n\n\treturn (\n\t\t<div\n\t\t\tclassName={props.className}\n\t\t\tstyle={style}\n\t\t\tref={(node) => {\n\t\t\t\tsetRef(node)\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</div>\n\t)\n}\n","import useIsInViewPort from './index'\n\ninterface LazyImageProps {\n  link: string,\n  offset: number,\n  alt: string,\n  style: object,\n  className: string\n}\n\nexport default function LazyImage(props: LazyImageProps) {\n\tconst [setRef, link] = useIsInViewPort(props)\n\n\treturn (\n\t\t<div\n\t\t\tref={(node) => {\n\t\t\t\tsetRef(node)\n\t\t\t}}\n\t\t>\n\t\t\t<img\n\t\t\t\tsrc={link}\n\t\t\t\talt={props.alt}\n\t\t\t\tstyle={props.style}\n\t\t\t\tclassName={props.className}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n","import useIsInViewPort from './index'\n\ninterface LazyFrameProps {\n\theight: number\n\tlink: string\n\toffset: number\n\tallowFullScreen: boolean,\n}\n\nexport default function LazyFrame(props: LazyFrameProps) {\n\tconst [setRef, link] = useIsInViewPort(props)\n\n\treturn (\n\t\t<iframe\n\t\t\t// scrolling={props.scrolling || 'no'}\n\t\t\tsrc={link}\n\t\t\t// frameBorder={props.frameBorder || 'no'}\n\t\t\t// style={props.style || {border: props.frameBorder}}\n\t\t\tref={(node) => {\n\t\t\t\tsetRef(node)\n\t\t\t}}\n\t\t\t{...props}\n\t\t\theight={props.height || '500'}\n\t\t\tallowFullScreen={props.allowFullScreen || true}\n\t\t/>\n\t)\n}\n","import type { ReactNode } from 'react'\nimport useIsInViewport from './index'\n\ninterface LazyComponentProps {\n  link: string,\n  offset: number,\n  style: object,\n  children: ReactNode\n}\n\nexport default function LazyComponent(props: LazyComponentProps) {\n\tconst [setRef, _, isVisible] = useIsInViewport(props)\n\n\tif (!isVisible)\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={(node) => {\n\t\t\t\t\tsetRef(node)\n\t\t\t\t}}\n\t\t\t\tstyle={{\n\t\t\t\t\theight: '300px',\n\t\t\t\t\twidth: '300px',\n\t\t\t\t\t...props.style,\n\t\t\t\t}}\n\t\t\t></div>\n\t\t)\n\n\treturn <div>{props.children}</div>\n}\n","import { useState, useEffect, useMemo, useCallback } from 'react'\n\ninterface InstanceElement {\n\tmakeItVisible: () => void\n\telement: HTMLElement | null\n\toffset: number\n}\n\n// array with all the elements that are waiting to be shown in the viewport\nconst elements = new Set<InstanceElement>()\n\nconst CheckIfRender = {\n\t// top: the position of the element in relation with the top of the browser\n\t// left: the position of the element in relation with the left of the browser\n\t// offset: the desired offset of the element in relation of the viewport\n\tisInViewPort: ({\n\t\toffset,\n\t\ttop,\n\t\tleft,\n\t}: {\n\t\toffset: number\n\t\ttop: number\n\t\tleft: number\n\t}) => top < window.innerHeight + offset && left < window.innerWidth + offset,\n\n\tcalculateNewPosition: (elem: InstanceElement) => {\n\t\tconst { top, left } = elem.element?.getBoundingClientRect() || {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t}\n\n\t\treturn {\n\t\t\t...elem,\n\t\t\ttop,\n\t\t\tleft,\n\t\t}\n\t},\n\taddElement: (element: InstanceElement) => {\n\t\t//the distance from the pixel 0,0 and the top of the element\n\t\telements.add(element)\n\t\t//check if has already been started the rAF cycle\n\t\tif (CheckIfRender.isListenerAttached === 0) {\n\t\t\tCheckIfRender.isListenerAttached = window.requestAnimationFrame(\n\t\t\t\tCheckIfRender.eventHandler,\n\t\t\t)\n\t\t}\n\t},\n\teventHandler: () => {\n\t\t//if there is no more element to lazy load remove the listener/rAF\n\t\tif (elements.size === 0) {\n\t\t\tCheckIfRender.removeScrollHandler()\n\t\t} else {\n\t\t\telements.forEach((elem) => {\n\t\t\t\tconst haveToShow = CheckIfRender.isInViewPort(\n\t\t\t\t\tCheckIfRender.calculateNewPosition(elem),\n\t\t\t\t)\n\t\t\t\tif (haveToShow) {\n\t\t\t\t\telem.makeItVisible()\n\t\t\t\t\t// remove element from the list of elements to lazy load\n\t\t\t\t\tCheckIfRender.removeElementFromList(elem)\n\t\t\t\t}\n\t\t\t})\n\t\t\tCheckIfRender.isListenerAttached = window.requestAnimationFrame(\n\t\t\t\tCheckIfRender.eventHandler,\n\t\t\t)\n\t\t}\n\t},\n\n\tremoveScrollHandler: () => {\n\t\twindow.cancelAnimationFrame(CheckIfRender.isListenerAttached)\n\t\tCheckIfRender.isListenerAttached = 0\n\t},\n\t//When an element is unloaded remove it from the list of elements that are waiting to be lazy-loaded\n\tremoveElementFromList: (toRemove: InstanceElement) => {\n\t\telements.delete(toRemove)\n\t},\n\tisListenerAttached: 0, // intended as not set\n}\n\nexport default function useRenderIfInViewPort(props: {\n\tlink: string\n\toffset: number\n}): [(node: HTMLDivElement | null) => void, string, boolean] {\n\tconst [link, setLink] = useState('')\n\tconst [visible, setVisible] = useState(false)\n\n\tconst [ref, setRef] = useState<HTMLDivElement | null>(null)\n\n\tconst makeItVisible = useCallback(() => {\n\t\tif (props.link) setLink(() => props.link)\n\t\tsetVisible(() => true)\n\t}, [props.link])\n\n\tconst thisInstance = useMemo(() => {\n\t\treturn {\n\t\t\telement: ref,\n\t\t\tmakeItVisible,\n\t\t\toffset: props.offset || 100,\n\t\t}\n\t}, [ref, props.offset, makeItVisible])\n\n\tconst getRef = useCallback((node: HTMLDivElement | null) => {\n\t\tif (node !== null) setRef(node)\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (ref !== null)\n\t\t\t// add the element to the array of elements that are waiting to be lazy loaded\n\t\t\tCheckIfRender.addElement(thisInstance)\n\t\treturn () =>\n\t\t\t// if the element is unloaded remove the element from the list of elements that needs to be lazy loader\n\t\t\tCheckIfRender.removeElementFromList(thisInstance)\n\t}, [ref, thisInstance])\n\n\treturn [getRef, link, visible]\n}\n\n"],"names":["$e299efde9f3efc70$var$e","$e299efde9f3efc70$var$r","e1","t1","n1","r1","Object","defineProperty","get","set","enumerable","configurable","$6e38eea936045ca0$export$2e2bcd8739ae039","props","setRef","link","isViewable","$03b515f3f8c77d8f$export$2e2bcd8739ae039","style","setStyle","$9w1Q4$react","backgroundImage","$9w1Q4$reactjsxruntime","className","ref","node","children","$f6f596272f209e0c$export$2e2bcd8739ae039","src","alt","$8e3d626f2d1eebd8$export$2e2bcd8739ae039","height","allowFullScreen","$c17687259f8b5ddf$export$2e2bcd8739ae039","_","isVisible","width","$03b515f3f8c77d8f$var$elements","Set","$03b515f3f8c77d8f$var$CheckIfRender","isInViewPort","offset","top","left","window","innerHeight","innerWidth","calculateNewPosition","elem","element","getBoundingClientRect","addElement","add","isListenerAttached","requestAnimationFrame","eventHandler","size","removeScrollHandler","forEach","makeItVisible","removeElementFromList","cancelAnimationFrame","toRemove","delete","setLink","visible","setVisible","useState","thisInstance","getRef"],"version":3,"file":"openSource.b4f0742b.js.map"}