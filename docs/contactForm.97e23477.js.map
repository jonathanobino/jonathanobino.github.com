{"mappings":"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","sources":["src/components/contactForm.js","src/API/useFetch.js","src/utils/index.js"],"sourcesContent":["import { useState, useRef } from 'react';\nimport useFetch from '../API/useFetch';\nimport { emailValidator } from '../utils';\nimport Loading from './Loading';\n\nexport default function () {\n\tconst [result, isSending, error, send, updateOptions] = useFetch(\n\t\t'https://formspree.io/f/xyyojjyj',\n\t\t{\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\tAccept: 'application/json',\n\t\t\t},\n\t\t},\n\t\ttrue,\n\t);\n\tconst formRef = useRef(null);\n\tconst [formMessage, setFormMessage] = useState({\n\t\tmessage: \"Let's get in touch!\",\n\t\tisError: false,\n\t});\n\n\tfunction validateForm(data) {\n\t\treturn (\n\t\t\tdata.name !== '' &&\n\t\t\tdata.email !== '' &&\n\t\t\temailValidator(data.email) &&\n\t\t\tdata.message !== ''\n\t\t);\n\t}\n\n\tfunction beforeSend(data) {\n\t\tif (!validateForm(data))\n\t\t\tsetFormMessage({\n\t\t\t\tmessage: 'Fill every field before sending',\n\t\t\t\tisError: true,\n\t\t\t});\n\t\telse {\n\t\t\tupdateOptions({ body: JSON.stringify(data) });\n\t\t\tsetFormMessage({\n\t\t\t\tmessage: \"Thank you! I'll be in touch shortly!\",\n\t\t\t\tisError: false,\n\t\t\t});\n\t\t\tsend();\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"contactFormWrapper\">\n\t\t\t<div className={`message ${isSending || result || error ? 'show' : ''}`}>\n\t\t\t\t{isSending && <Loading />}\n\t\t\t\t{/*message error from api*/}\n\t\t\t\t{!isSending && result && (\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\tThank you! I'll be in touch shortly!{' '}\n\t\t\t\t\t\t<i className=\"fa fa-thumbs-o-up\"></i>\n\t\t\t\t\t</h2>\n\t\t\t\t)}\n\t\t\t\t{!isSending && error && (\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\tHey! An error has occoured! Please try to refresh the page and send\n\t\t\t\t\t\tit again.\n\t\t\t\t\t</h2>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<form\n\t\t\t\tclassName=\"contactForm\"\n\t\t\t\tref={formRef}\n\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tbeforeSend(Object.fromEntries(new FormData(e.target)));\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"medium-12 columns medium-centered text-center\">\n\t\t\t\t\t\t<h2 className={formMessage.isError ? 'error' : ''}>\n\t\t\t\t\t\t\t{formMessage.message}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"medium-6 columns\">\n\t\t\t\t\t\t<input type=\"text\" placeholder=\"Name\" name=\"name\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"medium-6 columns\">\n\t\t\t\t\t\t<input type=\"email\" placeholder=\"Email\" name=\"email\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"medium-12 columns\">\n\t\t\t\t\t\t<textarea placeholder=\"Message\" name=\"message\" rows=\"5\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"medium-12 columns\">\n\t\t\t\t\t\t<input type=\"submit\" className=\" button sendForm\" value=\"Send\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n","import { useEffect, useState, useRef, useCallback } from 'react';\n\nexport default function useFetch(\n\turl,\n\toptions = { method: 'GET' },\n\tdeferred = false,\n) {\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [result, setResult] = useState(undefined);\n\tconst [error, setError] = useState(undefined);\n\tconst [load, setLoad] = useState(!deferred);\n\n\tconst cachedOptions = useRef(options);\n\n\tconst updateOptions = useCallback((nextOptions) => {\n\t\tcachedOptions.current = {\n\t\t\t...cachedOptions.current,\n\t\t\t...nextOptions,\n\t\t};\n\t}, []);\n\n\tconst send = useCallback(() => {\n\t\tsetLoad(true);\n\t}, []);\n\n\tconst fetchData = useCallback(() => {\n\t\tsetIsLoading(true);\n\t\treturn fetch(url, {\n\t\t\t...cachedOptions.current,\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((res) => setResult(res))\n\t\t\t.catch((err) => setError(err))\n\t\t\t.finally(() => {\n\t\t\t\tsetIsLoading(false);\n\t\t\t\tsetLoad(false);\n\t\t\t});\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tif (load) fetchData();\n\t}, [load, fetchData]);\n\n\treturn [result, isLoading, error, send, updateOptions];\n}\n","export function emailValidator(value) {\n\treturn /[(a-zA-Z0-9)]+[@]+[(a-zA-Z0-9)]+\\.+[(a-zA-Z0-9)]+$/gi.test(value);\n}\n"],"names":["$ayMG0","parcelRequire","$2a32735294183996$export$2e2bcd8739ae039","result","isSending","error","send","updateOptions","$17m8v","default","method","headers","Accept","formRef","$acw62","useRef","formMessage","setFormMessage","useState","message","isError","beforeSend","data","name","email","$2EF88","emailValidator","validateForm","body","JSON","stringify","jsxs","className","jsx","$5q0qc","ref","onSubmit","e","preventDefault","Object","fromEntries","FormData","target","type","placeholder","rows","value","$0d079daee4b88a0e$export$2e2bcd8739ae039","url","options","deferred","isLoading","setIsLoading","setResult","undefined","setError","load","setLoad","cachedOptions","useCallback","nextOptions","current","fetchData","fetch","then","res","json","catch","err","finally","useEffect","$1eef38cfda4b0c52$export$85e9422a5732c151","test"],"version":3,"file":"contactForm.97e23477.js.map"}