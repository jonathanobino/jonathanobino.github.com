{"mappings":"wZAAA,IAAAA,EAAAC,EAAA,S,oDAKe,SAAAC,IACb,MAAOC,EAAQC,EAAWC,EAAOC,EAAMC,IAAiB,EAAAC,EAAAC,SACtD,kCACA,CACEC,OAAQ,OACRC,QAAS,CACPC,OAAQ,sBAGZ,GAEIC,GAAU,EAAAC,EAAAC,QAAO,OAChBC,EAAaC,IAAkB,EAAAH,EAAAI,UAAS,CAC7CC,QAAS,sBACTC,SAAS,IAYX,SAASC,EAAWC,IATpB,SAAsBA,GACpB,MACgB,KAAdA,EAAKC,MACU,KAAfD,EAAKE,QACL,EAAAC,EAAAC,gBAAeJ,EAAKE,QACH,KAAjBF,EAAKH,O,CAKFQ,CAAaL,GAChBL,EAAe,CACbE,QAAS,kCACTC,SAAS,KAGXb,EAAc,CAAEqB,KAAMC,KAAKC,UAAUR,KACrCL,EAAe,CACbE,QAAS,uCACTC,SAAS,IAEXd,I,CAIJ,OACE,EAAAN,EAAA+B,MAAC,MAAG,CAACC,UAAU,qB,WACb,EAAAhC,EAAA+B,MAAC,MAAG,CAACC,UAAW,YAAW5B,GAAaD,GAAUE,EAAQ,OAAS,I,UAChED,IAAa,EAAAJ,EAAAiC,KAACC,EAAAzB,QAAO,KAEpBL,GAAaD,IACb,EAAAH,EAAA+B,MAAC,KAAE,C,UACA,IAAI,uCACgC,KACrC,EAAA/B,EAAAiC,KAAC,IAAC,CAACD,UAAU,0BAGf5B,GAAaC,IACb,EAAAL,EAAA+B,MAAC,KAAE,C,UACA,IAAI,uFAOX,EAAA/B,EAAA+B,MAAC,OAAI,CACHC,UAAU,cACVG,IAAKtB,EACLuB,SAAWC,IACTA,EAAEC,iBACFjB,EAAWkB,OAAOC,YAAY,IAAIC,SAASJ,EAAEK,SAAS,E,WAGxD,EAAA1C,EAAAiC,KAAC,MAAG,CAACD,UAAU,M,UACb,EAAAhC,EAAAiC,KAAC,MAAG,CAACD,UAAU,gD,UACb,EAAAhC,EAAAiC,KAAC,KAAE,CAACD,UAAWhB,EAAYI,QAAU,QAAU,G,SAC5CJ,EAAYG,eAInB,EAAAnB,EAAA+B,MAAC,MAAG,CAACC,UAAU,M,WACb,EAAAhC,EAAAiC,KAAC,MAAG,CAACD,UAAU,mB,UACb,EAAAhC,EAAAiC,KAAC,QAAK,CAACU,KAAK,OAAOC,YAAY,OAAOrB,KAAK,YAE7C,EAAAvB,EAAAiC,KAAC,MAAG,CAACD,UAAU,mB,UACb,EAAAhC,EAAAiC,KAAC,QAAK,CAACU,KAAK,QAAQC,YAAY,QAAQrB,KAAK,gBAGjD,EAAAvB,EAAA+B,MAAC,MAAG,CAACC,UAAU,M,WACb,EAAAhC,EAAAiC,KAAC,MAAG,CAACD,UAAU,oB,UACb,EAAAhC,EAAAiC,KAAC,WAAQ,CAACW,YAAY,UAAUrB,KAAK,UAAUsB,KAAK,SAEtD,EAAA7C,EAAAiC,KAAC,MAAG,CAACD,UAAU,oB,UACb,EAAAhC,EAAAiC,KAAC,QAAK,CAACU,KAAK,SAASX,UAAU,mBAAmBc,MAAM,mB,sEChGpE,IAAAhC,EAAAb,EAAA,SAEe,SAAA8C,EACbC,EACAC,EAAU,CAAEvC,OAAQ,OACpBwC,GAAW,GAEX,MAAOC,EAAWC,IAAgB,EAAAtC,EAAAI,WAAS,IACpCf,EAAQkD,IAAa,EAAAvC,EAAAI,eAASoC,IAC9BjD,EAAOkD,IAAY,EAAAzC,EAAAI,eAASoC,IAC5BE,EAAMC,IAAW,EAAA3C,EAAAI,WAAUgC,GAElC,IAAIQ,GAAgB,EAAA5C,EAAAC,QAAOkC,GAE3B,MAAM1C,GAAgB,EAAAO,EAAA6C,cAAY,SAAUC,GAC1CF,EAAcG,QAAU,IACnBH,EAAcG,WACdD,E,GAEJ,IAEGtD,GAAO,EAAAQ,EAAA6C,cAAY,WACvBF,GAAQ,E,GACP,IAEGK,GAAY,EAAAhD,EAAA6C,cAAY,WAE5B,OADAP,GAAa,GACNW,MAAMf,EAAK,IACbU,EAAcG,UAEhBG,MAAMC,GAAQA,EAAIC,SAClBF,MAAMC,GAAQZ,EAAUY,KACxBE,OAAOC,GAAQb,EAASa,KACxBC,SAAQ,KACPjB,GAAa,GACbK,GAAQ,EAAM,G,GAEjB,IAMH,OAJA,EAAA3C,EAAAwD,YAAU,KACJd,GAAMM,GAAW,GACpB,CAACN,IAEG,CAACrD,EAAQgD,EAAW9C,EAAOC,EAAMC,E,uCC3CnC,SAASgE,EAAezB,GAC7B,MAAO,uDAAuD0B,KAAK1B,E","sources":["src/components/contactForm.js","src/API/useFetch.js","src/utils/index.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport useFetch from '../API/useFetch';\nimport { emailValidator } from '../utils';\nimport Loading from './Loading';\n\nexport default function () {\n  const [result, isSending, error, send, updateOptions] = useFetch(\n    'https://formspree.io/f/xyyojjyj',\n    {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n      },\n    },\n    true\n  );\n  const formRef = useRef(null);\n  const [formMessage, setFormMessage] = useState({\n    message: \"Let's get in touch!\",\n    isError: false,\n  });\n\n  function validateForm(data) {\n    return (\n      data.name !== '' &&\n      data.email !== '' &&\n      emailValidator(data.email) &&\n      data.message !== ''\n    );\n  }\n\n  function beforeSend(data) {\n    if (!validateForm(data))\n      setFormMessage({\n        message: 'Fill every field before sending',\n        isError: true,\n      });\n    else {\n      updateOptions({ body: JSON.stringify(data) });\n      setFormMessage({\n        message: \"Thank you! I'll be in touch shortly!\",\n        isError: false,\n      });\n      send();\n    }\n  }\n\n  return (\n    <div className=\"contactFormWrapper\">\n      <div className={`message ${isSending || result || error ? 'show' : ''}`}>\n        {isSending && <Loading />}\n        {/*message error from api*/}\n        {!isSending && result && (\n          <h2>\n            {' '}\n            Thank you! I'll be in touch shortly!{' '}\n            <i className=\"fa fa-thumbs-o-up\"></i>\n          </h2>\n        )}\n        {!isSending && error && (\n          <h2>\n            {' '}\n            Hey! An error has occoured! Please try to refresh the page and send\n            it again.\n          </h2>\n        )}\n      </div>\n\n      <form\n        className=\"contactForm\"\n        ref={formRef}\n        onSubmit={(e) => {\n          e.preventDefault();\n          beforeSend(Object.fromEntries(new FormData(e.target)));\n        }}\n      >\n        <div className=\"row\">\n          <div className=\"medium-12 columns medium-centered text-center\">\n            <h2 className={formMessage.isError ? 'error' : ''}>\n              {formMessage.message}\n            </h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"medium-6 columns\">\n            <input type=\"text\" placeholder=\"Name\" name=\"name\" />\n          </div>\n          <div className=\"medium-6 columns\">\n            <input type=\"email\" placeholder=\"Email\" name=\"email\" />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"medium-12 columns\">\n            <textarea placeholder=\"Message\" name=\"message\" rows=\"5\" />\n          </div>\n          <div className=\"medium-12 columns\">\n            <input type=\"submit\" className=\" button sendForm\" value=\"Send\" />\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import { useEffect, useState, useRef, useCallback } from 'react';\n\nexport default function useFetch(\n  url,\n  options = { method: 'GET' },\n  deferred = false\n) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [result, setResult] = useState(undefined);\n  const [error, setError] = useState(undefined);\n  const [load, setLoad] = useState(!deferred);\n\n  let cachedOptions = useRef(options);\n\n  const updateOptions = useCallback(function (nextOptions) {\n    cachedOptions.current = {\n      ...cachedOptions.current,\n      ...nextOptions,\n    };\n  }, [])\n\n  const send = useCallback(function () {\n    setLoad(true);\n  }, []);\n\n  const fetchData = useCallback(function () {\n    setIsLoading(true);\n    return fetch(url, {\n      ...cachedOptions.current,\n    })\n      .then((res) => res.json())\n      .then((res) => setResult(res))\n      .catch((err) => setError(err))\n      .finally(() => {\n        setIsLoading(false);\n        setLoad(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (load) fetchData();\n  }, [load]);\n\n  return [result, isLoading, error, send, updateOptions];\n}\n","export function emailValidator(value) {\n  return /[(a-zA-Z0-9)]+[@]+[(a-zA-Z0-9)]+\\.+[(a-zA-Z0-9)]+$/gi.test(value);\n}\n"],"names":["$ayMG0","parcelRequire","$2a32735294183996$export$2e2bcd8739ae039","result","isSending","error","send","updateOptions","$17m8v","default","method","headers","Accept","formRef","$acw62","useRef","formMessage","setFormMessage","useState","message","isError","beforeSend","data","name","email","$2EF88","emailValidator","validateForm","body","JSON","stringify","jsxs","className","jsx","$5q0qc","ref","onSubmit","e","preventDefault","Object","fromEntries","FormData","target","type","placeholder","rows","value","$0d079daee4b88a0e$export$2e2bcd8739ae039","url","options","deferred","isLoading","setIsLoading","setResult","undefined","setError","load","setLoad","cachedOptions","useCallback","nextOptions","current","fetchData","fetch","then","res","json","catch","err","finally","useEffect","$1eef38cfda4b0c52$export$85e9422a5732c151","test"],"version":3,"file":"contactForm.97e23477.js.map"}